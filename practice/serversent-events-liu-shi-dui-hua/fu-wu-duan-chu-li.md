# æœåŠ¡ç«¯å¤„ç†

ä¾æ‰˜OpenAI APIå¯¹ stream çš„æ”¯æŒï¼Œå¯ä»¥å®ç°è¿ç»­çš„ç»“æœè¾“å‡ºã€‚

{% embed url="https://gist.github.com/tripluyi/0dcfb7e001ba80f97a60fb22348209bd" %}

åœ¨ä½¿ç”¨ langchain çš„åŸºç¡€ä¸Šï¼Œåªéœ€è¦å¼€å¯ streaming ä¸º trueï¼Œå¹¶ä¸”åœ¨ callbacksä¸­è°ƒç”¨ handleLLMNewToken æ—¢å¯å¤„ç†æµå¼çš„tokenè¿”å›



åœ¨å¤„ç†è¿ç»­ token æ—¶ï¼Œnodeè¿”å›çš„repsonse ä¹Ÿéœ€è¦ç¬¦åˆ text/event-streamæ ¼å¼

{% embed url="https://gist.github.com/tripluyi/8f00a8437bc0880bfb9911310053c26a" %}

ğŸ‘†ä»¥ä¸Šç»è¿‡ Next Response å¤„ç†ï¼Œå½“ Openai çš„stream å†…å®¹å…¨éƒ¨è¿”å›æ—¶ï¼Œè¿”å›ä¸€ä¸ª `__completed__` ç»™å®¢æˆ·ç«¯ç”¨äºæ ‡è®°å†…å®¹å·²å®Œå…¨æ”¶åˆ°ã€‚
